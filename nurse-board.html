<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <title>æŠ¤å£«ç«™çœ‹æ¿ - åºŠä½ç®¡ç†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:Helvetica,Arial,"PingFang SC","Microsoft YaHei",sans-serif}
    body{background:#f2f6fa;color:#333;display:flex;flex-direction:column;height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;background:#fff;padding:10px 20px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
    .logo{font-size:20px;font-weight:700;color:#1890ff}
    .time{font-size:18px;color:#666}
    .refresh-btn{background:#1890ff;color:#fff;border:none;padding:5px 15px;border-radius:4px;cursor:pointer;margin-left:10px}
    .stats{display:flex;gap:20px;background:#fff;margin:10px 20px;padding:10px 15px;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,.05);flex-wrap:wrap}
    .stat{text-align:center;min-width:60px}
    .stat .num{font-size:28px;font-weight:700}
    .stat .lab{font-size:14px;color:#999}
    .beds{flex:1;display:flex;flex-wrap:wrap;gap:12px;padding:0 20px 20px;overflow-y:auto}
    .card{width:calc(16.666% - 10px);background:#fff;border-radius:6px;box-shadow:0 2px 6px rgba(0,0,0,.08);cursor:pointer;transition:.2s}
    .card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}
    .card.empty{background:#e8f0ff;color:#8590a6}
    .card.critical{background:#fff1f0;border-left:3px solid #ff4d4f}
    .card.new{background:#f6ffed;border-left:3px solid #52c41a}
    .topbar{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;font-size:13px;border-bottom:1px solid #f0f0f0}
    .bedno{font-weight:700;font-size:16px;color:#1890ff}
    .gender-age{font-size:12px;color:#666}
    .body{padding:8px 10px}
    .name{font-size:15px;font-weight:700;margin-bottom:4px;display:flex;justify-content:space-between}
    .doc{font-size:12px;color:#666;margin-bottom:4px}
    .diag{font-size:11px;color:#333;background:#f5f5f5;padding:2px 4px;border-radius:3px;margin-bottom:6px}
    .tags{display:flex;gap:4px;flex-wrap:wrap}
    .tag{padding:2px 6px;border-radius:3px;font-size:10px;font-weight:500}
    .tag.new{background:#52c41a;color:#fff}
    .tag.critical{background:#ff4d4f;color:#fff}
    .tag.allergy{background:#faad14;color:#fff}
    .tag.owe{background:#f5222d;color:#fff}
    .tag.surgery{background:#722ed1;color:#fff}
    /* å¼¹çª— */
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal.show{display:flex}
    .modal-content{background:#fff;width:450px;border-radius:8px;padding:20px;max-height:80vh;overflow-y:auto}
    .modal-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #e8e8e8}
    .close{font-size:24px;cursor:pointer;color:#999}
    .close:hover{color:#333}
    .modal-body{margin-top:15px;font-size:14px;line-height:2}
    .info-row{display:flex;margin-bottom:8px}
    .info-label{width:80px;color:#999}
    .info-value{flex:1;font-weight:500}
    .badge{display:inline-block;padding:3px 8px;border-radius:4px;font-size:12px;margin-right:5px}
    .badge.primary{background:#e6f7ff;color:#1890ff}
    .badge.warning{background:#fff7e6;color:#fa8c16}
    /* ç­›é€‰æ  */
    .filter-bar{background:#fff;margin:0 20px 10px;padding:10px;border-radius:6px;display:flex;gap:10px;flex-wrap:wrap}
    .filter-btn{padding:5px 12px;border:1px solid #d9d9d9;border-radius:4px;background:#fff;cursor:pointer}
    .filter-btn.active{background:#1890ff;color:#fff;border-color:#1890ff}
    .filter-btn:hover{background:#e6f7ff}
    /* ç©ºåºŠæ“ä½œ */
    .empty-actions{display:flex;gap:5px;margin-top:5px}
    .assign-btn{background:#52c41a;color:#fff;border:none;padding:2px 8px;border-radius:3px;font-size:11px;cursor:pointer}
  </style>
</head>
<body>
<header>
  <div class="logo">ğŸ¥ æŠ¤å£«ç«™åºŠä½çœ‹æ¿</div>
  <div style="display:flex;align-items:center">
    <div class="time" id="clock"></div>
    <button class="refresh-btn" onclick="loadData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
  </div>
</header>

<!-- ç­›é€‰æ  -->
<div class="filter-bar">
  <button class="filter-btn active" onclick="filterBeds('all')">å…¨éƒ¨åºŠä½</button>
  <button class="filter-btn" onclick="filterBeds('occupied')">å ç”¨åºŠä½</button>
  <button class="filter-btn" onclick="filterBeds('empty')">ç©ºåºŠ</button>
  <button class="filter-btn" onclick="filterBeds('critical')">å±é‡æ‚£è€…</button>
  <button class="filter-btn" onclick="filterBeds('new')">æ–°å…¥æ‚£è€…</button>
  <button class="filter-btn" onclick="filterBeds('allergy')">è¿‡æ•æ‚£è€…</button>
</div>

<!-- ç»Ÿè®¡æ•°æ® -->
<section class="stats">
  <div class="stat"><div class="num" id="s-total">0</div><div class="lab">æ€»åºŠä½</div></div>
  <div class="stat"><div class="num" id="s-occupied">0</div><div class="lab">å·²å ç”¨</div></div>
  <div class="stat"><div class="num" id="s-empty">0</div><div class="lab">ç©ºåºŠ</div></div>
  <div class="stat"><div class="num" id="s-new">0</div><div class="lab">æ–°å…¥é™¢</div></div>
  <div class="stat"><div class="num" id="s-critical">0</div><div class="lab">å±é‡</div></div>
  <div class="stat"><div class="num" id="s-allergy">0</div><div class="lab">è¿‡æ•</div></div>
  <div class="stat"><div class="num" id="s-owe">0</div><div class="lab">æ¬ è´¹</div></div>
</section>

<!-- åºŠä½ç½‘æ ¼ -->
<main class="beds" id="beds"></main>

<!-- è¯¦æƒ…å¼¹çª— -->
<div class="modal" id="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span id="m-title" style="font-size:18px;font-weight:700"></span>
      <span class="close" onclick="closeModal()">&times;</span>
    </div>
    <div class="modal-body" id="m-body"></div>
  </div>
</div>

<script>
// å¸¸é‡å®šä¹‰
const STORE_KEY = 'doctor_patients';  // ä¸åŒ»ç”Ÿç«¯ä¿æŒä¸€è‡´
const TOTAL_BEDS = 43;  // æ€»åºŠä½æ•°

// å…¨å±€å˜é‡
let patients = [];  // ä»localStorageåŠ è½½çš„æ‚£è€…æ•°æ®
let bedAssignments = [];  // åºŠä½åˆ†é…æ•°æ®
let currentFilter = 'all';  // å½“å‰ç­›é€‰æ¡ä»¶

/* -------- åˆå§‹åŒ–åŠ è½½æ•°æ® -------- */
function loadData() {
    try {
        // ä»localStorageè¯»å–åŒ»ç”Ÿç«¯ä¿å­˜çš„æ‚£è€…æ•°æ®
        const saved = localStorage.getItem(STORE_KEY);
        if (saved) {
            patients = JSON.parse(saved);
            console.log('åŠ è½½æ‚£è€…æ•°æ®æˆåŠŸï¼Œå…±', patients.length, 'ä½æ‚£è€…');
        } else {
            patients = [];
            console.log('æš‚æ— æ‚£è€…æ•°æ®');
        }
        
        // åŠ è½½åºŠä½åˆ†é…ä¿¡æ¯
        loadBedAssignments();
        
        // è‡ªåŠ¨åˆ†é…æ‚£è€…åˆ°åºŠä½
        assignPatientsToBeds();
        
        // æ›´æ–°UI
        renderBeds();
        updateStats();
        
    } catch (e) {
        console.error('åŠ è½½æ•°æ®å¤±è´¥:', e);
        alert('åŠ è½½æ•°æ®å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
    }
}

/* -------- åŠ è½½åºŠä½åˆ†é…ä¿¡æ¯ -------- */
function loadBedAssignments() {
    const savedAssignments = localStorage.getItem('bed_assignments');
    if (savedAssignments) {
        bedAssignments = JSON.parse(savedAssignments);
    } else {
        // åˆå§‹åŒ–ç©ºåºŠä½
        bedAssignments = [];
        for (let i = 1; i <= TOTAL_BEDS; i++) {
            bedAssignments.push({
                bedno: String(i).padStart(3, '0'),
                patientId: null,
                status: 'empty',
                admitDate: null
            });
        }
        saveBedAssignments();
    }
}

/* -------- ä¿å­˜åºŠä½åˆ†é…ä¿¡æ¯ -------- */
function saveBedAssignments() {
    localStorage.setItem('bed_assignments', JSON.stringify(bedAssignments));
}

/* -------- è‡ªåŠ¨åˆ†é…æ‚£è€…åˆ°åºŠä½ -------- */
function assignPatientsToBeds() {
    // æ¸…é™¤æ—§çš„åˆ†é…ï¼ˆåªä¿ç•™å·²å­˜åœ¨çš„æ‚£è€…åˆ†é…ï¼‰
    bedAssignments.forEach(bed => {
        if (bed.patientId) {
            const patientExists = patients.some(p => p.id === bed.patientId);
            if (!patientExists) {
                bed.patientId = null;
                bed.status = 'empty';
                bed.admitDate = null;
            }
        }
    });
    
    // è·å–æœªåˆ†é…åºŠä½çš„æ‚£è€…
    const assignedPatientIds = bedAssignments
        .filter(b => b.patientId)
        .map(b => b.patientId);
    
    const unassignedPatients = patients.filter(p => !assignedPatientIds.includes(p.id));
    
    // è·å–ç©ºåºŠä½
    const emptyBeds = bedAssignments.filter(b => b.status === 'empty');
    
    // åˆ†é…æ‚£è€…åˆ°ç©ºåºŠä½
    unassignedPatients.forEach((patient, index) => {
        if (index < emptyBeds.length) {
            const bed = emptyBeds[index];
            bed.patientId = patient.id;
            bed.status = 'occupied';
            bed.admitDate = patient.admitDate || new Date().toISOString().split('T')[0];
        }
    });
    
    saveBedAssignments();
}

/* -------- æ ¹æ®åºŠä½å·è·å–æ‚£è€…ä¿¡æ¯ -------- */
function getPatientByBed(bedno) {
    const assignment = bedAssignments.find(b => b.bedno === bedno);
    if (!assignment || !assignment.patientId) return null;
    
    const patient = patients.find(p => p.id === assignment.patientId);
    if (!patient) return null;
    
    // åˆå¹¶ä¿¡æ¯
    return {
        ...patient,
        bedno: assignment.bedno,
        admitDate: assignment.admitDate || patient.admitDate,
        status: assignment.status
    };
}

/* -------- åˆ¤æ–­æ‚£è€…æ ‡ç­¾ -------- */
function getPatientTags(patient) {
    const tags = [];
    
    // æ–°å…¥é™¢åˆ¤æ–­ï¼ˆå…¥é™¢æ—¥æœŸåœ¨ä»Šå¤©æˆ–æ˜¨å¤©ï¼‰
    if (patient.admitDate) {
        const admitDate = new Date(patient.admitDate);
        const today = new Date();
        const diffDays = Math.floor((today - admitDate) / (1000 * 60 * 60 * 24));
        if (diffDays <= 1) tags.push('new');
    }
    
    // å±é‡åˆ¤æ–­ï¼ˆå¯ä»¥ä»è¯Šæ–­æˆ–åŒ»å˜±ä¸­åˆ¤æ–­ï¼Œè¿™é‡Œç®€å•æ¨¡æ‹Ÿï¼‰
    if (patient.diag && (
        patient.diag.includes('å±é‡') || 
        patient.diag.includes('é‡ç—‡') ||
        patient.diag.includes('ICU')
    )) tags.push('critical');
    
    // è¿‡æ•åˆ¤æ–­ï¼ˆä»åŒ»å˜±æˆ–å¤‡æ³¨ä¸­ï¼‰
    if (patient.notes && patient.notes.includes('è¿‡æ•')) tags.push('allergy');
    
    // æ¬ è´¹åˆ¤æ–­ï¼ˆæ¨¡æ‹Ÿï¼‰
    if (Math.random() > 0.9) tags.push('owe');
    
    // æ‰‹æœ¯åˆ¤æ–­ï¼ˆæ¨¡æ‹Ÿï¼‰
    if (Math.random() > 0.85) tags.push('surgery');
    
    return tags;
}

/* -------- æ¸²æŸ“åºŠä½å¡ç‰‡ -------- */
function renderBeds() {
    const box = document.getElementById('beds');
    box.innerHTML = '';
    
    // è·å–ç­›é€‰åçš„åºŠä½åˆ—è¡¨
    let filteredBeds = bedAssignments;
    
    switch(currentFilter) {
        case 'occupied':
            filteredBeds = bedAssignments.filter(b => b.status === 'occupied');
            break;
        case 'empty':
            filteredBeds = bedAssignments.filter(b => b.status === 'empty');
            break;
        case 'critical':
            filteredBeds = bedAssignments.filter(b => {
                if (b.status !== 'occupied') return false;
                const patient = getPatientByBed(b.bedno);
                return patient && getPatientTags(patient).includes('critical');
            });
            break;
        case 'new':
            filteredBeds = bedAssignments.filter(b => {
                if (b.status !== 'occupied') return false;
                const patient = getPatientByBed(b.bedno);
                return patient && getPatientTags(patient).includes('new');
            });
            break;
        case 'allergy':
            filteredBeds = bedAssignments.filter(b => {
                if (b.status !== 'occupied') return false;
                const patient = getPatientByBed(b.bedno);
                return patient && getPatientTags(patient).includes('allergy');
            });
            break;
        default:
            filteredBeds = bedAssignments;
    }
    
    filteredBeds.forEach(b => {
        const patient = b.status === 'occupied' ? getPatientByBed(b.bedno) : null;
        const card = document.createElement('div');
        card.className = 'card';
        
        if (b.status === 'empty') {
            card.classList.add('empty');
            card.innerHTML = `
                <div class="topbar">
                    <span class="bedno">${b.bedno}</span>
                    <span class="gender-age">ğŸ›ï¸ ç©ºåºŠ</span>
                </div>
                <div class="body">
                    <div class="empty-actions">
                        <button class="assign-btn" onclick="assignPatientToBed('${b.bedno}');event.stopPropagation()">åˆ†é…æ‚£è€…</button>
                    </div>
                </div>
            `;
        } else if (patient) {
            const tags = getPatientTags(patient);
            
            if (tags.includes('critical')) card.classList.add('critical');
            if (tags.includes('new')) card.classList.add('new');
            
            card.innerHTML = `
                <div class="topbar">
                    <span class="bedno">${b.bedno}</span>
                    <span class="gender-age">${patient.gender || '?'} ${patient.age || '?'}å²</span>
                </div>
                <div class="body">
                    <div class="name">
                        ${patient.name || 'æœªçŸ¥'}
                        ${tags.includes('critical') ? '<span style="color:#ff4d4f">âš ï¸</span>' : ''}
                    </div>
                    <div class="doc">ğŸ‘¨â€âš•ï¸ ${patient.doctor || 'æœªåˆ†é…'}</div>
                    <div class="diag">${patient.diag ? patient.diag.substring(0,15) + (patient.diag.length>15?'...':'') : 'æš‚æ— è¯Šæ–­'}</div>
                    <div class="tags">
                        ${tags.includes('new') ? '<span class="tag new">æ–°å…¥é™¢</span>' : ''}
                        ${tags.includes('critical') ? '<span class="tag critical">å±é‡</span>' : ''}
                        ${tags.includes('allergy') ? '<span class="tag allergy">è¿‡æ•</span>' : ''}
                        ${tags.includes('owe') ? '<span class="tag owe">æ¬ è´¹</span>' : ''}
                        ${tags.includes('surgery') ? '<span class="tag surgery">æ‰‹æœ¯</span>' : ''}
                    </div>
                </div>
            `;
            card.onclick = () => showDetail(patient, b.bedno);
        }
        
        box.appendChild(card);
    });
}

/* -------- åˆ†é…æ‚£è€…åˆ°åºŠä½ -------- */
function assignPatientToBed(bedno) {
    // è·å–æœªåˆ†é…çš„æ‚£è€…
    const assignedIds = bedAssignments
        .filter(b => b.patientId)
        .map(b => b.patientId);
    const unassignedPatients = patients.filter(p => !assignedIds.includes(p.id));
    
    if (unassignedPatients.length === 0) {
        alert('æ²¡æœ‰å¾…åˆ†é…çš„æ‚£è€…ï¼Œè¯·å…ˆåœ¨åŒ»ç”Ÿç«¯å½•å…¥æ‚£è€…');
        return;
    }
    
    // åˆ›å»ºé€‰æ‹©æ‚£è€…çš„å¼¹çª—
    const patientList = unassignedPatients.map(p => 
        `<option value="${p.id}">${p.name} - ${p.diag ? p.diag.substring(0,20) : 'æš‚æ— è¯Šæ–­'}</option>`
    ).join('');
    
    const selectedId = prompt('è¯·é€‰æ‹©æ‚£è€…IDï¼ˆä»ä¸‹é¢åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªIDï¼‰:\n' + 
        unassignedPatients.map(p => `${p.id}: ${p.name}`).join('\n'));
    
    if (selectedId) {
        const patient = unassignedPatients.find(p => p.id === selectedId);
        if (patient) {
            const bed = bedAssignments.find(b => b.bedno === bedno);
            bed.patientId = patient.id;
            bed.status = 'occupied';
            bed.admitDate = new Date().toISOString().split('T')[0];
            saveBedAssignments();
            renderBeds();
            updateStats();
        } else {
            alert('æ— æ•ˆçš„æ‚£è€…ID');
        }
    }
}

/* -------- æ›´æ–°ç»Ÿè®¡æ•°æ® -------- */
function updateStats() {
    const stats = {
        total: TOTAL_BEDS,
        occupied: bedAssignments.filter(b => b.status === 'occupied').length,
        empty: bedAssignments.filter(b => b.status === 'empty').length,
        new: 0,
        critical: 0,
        allergy: 0,
        owe: 0
    };
    
    bedAssignments.forEach(b => {
        if (b.status === 'occupied') {
            const patient = getPatientByBed(b.bedno);
            if (patient) {
                const tags = getPatientTags(patient);
                if (tags.includes('new')) stats.new++;
                if (tags.includes('critical')) stats.critical++;
                if (tags.includes('allergy')) stats.allergy++;
                if (tags.includes('owe')) stats.owe++;
            }
        }
    });
    
    document.getElementById('s-total').textContent = stats.total;
    document.getElementById('s-occupied').textContent = stats.occupied;
    document.getElementById('s-empty').textContent = stats.empty;
    document.getElementById('s-new').textContent = stats.new;
    document.getElementById('s-critical').textContent = stats.critical;
    document.getElementById('s-allergy').textContent = stats.allergy;
    document.getElementById('s-owe').textContent = stats.owe;
}

/* -------- ç­›é€‰åºŠä½ -------- */
function filterBeds(filter) {
    currentFilter = filter;
    
    // æ›´æ–°æŒ‰é’®æ ·å¼
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    renderBeds();
}

/* -------- æ˜¾ç¤ºè¯¦æƒ…å¼¹çª— -------- */
function showDetail(patient, bedno) {
    const tags = getPatientTags(patient);
    const tagsHtml = tags.map(t => {
        const tagMap = {
            'new': 'æ–°å…¥é™¢',
            'critical': 'å±é‡',
            'allergy': 'è¿‡æ•',
            'owe': 'æ¬ è´¹',
            'surgery': 'æ‰‹æœ¯'
        };
        return `<span class="badge ${t === 'critical' ? 'warning' : 'primary'}">${tagMap[t] || t}</span>`;
    }).join('');
    
    document.getElementById('m-title').textContent = `åºŠä½ ${bedno} - ${patient.name}`;
    document.getElementById('m-body').innerHTML = `
        <div class="info-row">
            <span class="info-label">åŸºæœ¬ä¿¡æ¯</span>
            <span class="info-value">${patient.gender || '?'} / ${patient.age || '?'}å²</span>
        </div>
        <div class="info-row">
            <span class="info-label">ä½é™¢å·</span>
            <span class="info-value">${patient.hospno || 'æœªå½•å…¥'}</span>
        </div>
        <div class="info-row">
            <span class="info-label">å…¥é™¢æ—¥æœŸ</span>
            <span class="info-value">${patient.admitDate || 'æœªå½•å…¥'}</span>
        </div>
        <div class="info-row">
            <span class="info-label">åˆæ­¥è¯Šæ–­</span>
            <span class="info-value">${patient.diag || 'æš‚æ— '}</span>
        </div>
        <div class="info-row">
            <span class="info-label">ç”¨è¯åŒ»å˜±</span>
            <span class="info-value">${patient.drug || 'æš‚æ— '}</span>
        </div>
        <div class="info-row">
            <span class="info-label">æ£€éªŒæ£€æŸ¥</span>
            <span class="info-value">${patient.lab || 'æš‚æ— '} ${patient.exam || ''}</span>
        </div>
        <div class="info-row">
            <span class="info-label">å¤‡æ³¨</span>
            <span class="info-value">${patient.notes || 'æ— '}</span>
        </div>
        <div class="info-row">
            <span class="info-label">æ ‡ç­¾</span>
            <span class="info-value">${tagsHtml || 'æ— '}</span>
        </div>
        <div style="margin-top:15px;text-align:center">
            <button style="background:#ff4d4f;color:#fff;border:none;padding:5px 15px;border-radius:4px;cursor:pointer" onclick="releaseBed('${bedno}')">
                é‡Šæ”¾åºŠä½
            </button>
        </div>
    `;
    document.getElementById('modal').classList.add('show');
}

/* -------- é‡Šæ”¾åºŠä½ -------- */
function releaseBed(bedno) {
    if (confirm('ç¡®å®šè¦é‡Šæ”¾è¿™å¼ åºŠä½å—ï¼Ÿæ‚£è€…å°†è¢«ç§»å‡ºåºŠä½åˆ—è¡¨')) {
        const bed = bedAssignments.find(b => b.bedno === bedno);
        bed.patientId = null;
        bed.status = 'empty';
        bed.admitDate = null;
        saveBedAssignments();
        closeModal();
        renderBeds();
        updateStats();
    }
}

/* -------- å…³é—­å¼¹çª— -------- */
function closeModal() {
    document.getElementById('modal').classList.remove('show');
}

/* -------- æ—¶é’Ÿ -------- */
function tick() {
    const now = new Date();
    document.getElementById('clock').textContent = 
        now.toLocaleDateString('zh-CN') + ' ' + now.toLocaleTimeString('zh-CN');
}

/* -------- åˆå§‹åŒ– -------- */
function init() {
    loadData();
    tick();
    setInterval(tick, 1000);
    
    // æ¯5åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡æ•°æ®
    setInterval(loadData, 5 * 60 * 1000);
    
    // ç›‘å¬localStorageå˜åŒ–ï¼ˆå½“åŒ»ç”Ÿç«¯ä¿å­˜æ•°æ®æ—¶è‡ªåŠ¨æ›´æ–°ï¼‰
    window.addEventListener('storage', function(e) {
        if (e.key === STORE_KEY) {
            console.log('æ£€æµ‹åˆ°æ•°æ®æ›´æ–°ï¼Œè‡ªåŠ¨åˆ·æ–°...');
            loadData();
        }
    });
}

// å¯åŠ¨åº”ç”¨
init();
</script>
</body>
</html>