<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ¤ç†è®°å½• - æŠ¤å£«ç«¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #0a0e27;
            --secondary-bg: #1a1f3a;
            --accent-color: #a855f7;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --status-routine: #3b82f6;
            --status-special: #8b5cf6;
            --status-critical: #ef4444;
            --status-discharged: #10b981;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        header {
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(10px);
            padding: 1.5rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-color), #9333ea);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-color);
        }

        .logo-text p {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .back-button {
            padding: 0.75rem 1.5rem;
            background: rgba(168, 85, 247, 0.1);
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .back-button:hover {
            background: var(--accent-color);
            color: white;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.1);
            border-radius: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .user-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .page-header {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .page-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--accent-color);
        }

        .page-header p {
            color: var(--text-secondary);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .quick-card {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            border: 2px solid rgba(168, 85, 247, 0.2);
            transition: all 0.3s;
            cursor: pointer;
            text-align: center;
        }

        .quick-card:hover {
            border-color: var(--accent-color);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
        }

        .quick-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .quick-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .quick-desc {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .filter-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .filter-select, .filter-input {
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .date-range {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .date-input {
            flex: 1;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .records-section {
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 2rem;
            border: 2px solid rgba(168, 85, 247, 0.2);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(168, 85, 247, 0.2);
        }

        .section-header h3 {
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
        }

        .action-button {
            padding: 0.5rem 1rem;
            background: rgba(168, 85, 247, 0.1);
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.3s;
            cursor: pointer;
        }

        .action-button:hover {
            background: var(--accent-color);
            color: white;
        }

        .records-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .record-item {
            background: rgba(10, 14, 39, 0.5);
            padding: 1.5rem;
            border-radius: 16px;
            border: 1px solid rgba(168, 85, 247, 0.1);
            transition: all 0.3s;
        }

        .record-item:hover {
            border-color: var(--accent-color);
        }

        .record-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .record-patient {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .patient-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-color), #9333ea);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .patient-info h4 {
            font-size: 1.125rem;
            margin-bottom: 0.25rem;
        }

        .patient-details {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .record-meta {
            text-align: right;
        }

        .record-time {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .record-type {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .type-routine { background: rgba(59, 130, 246, 0.2); color: var(--status-routine); }
        .type-special { background: rgba(139, 92, 246, 0.2); color: var(--status-special); }
        .type-critical { background: rgba(239, 68, 68, 0.2); color: var(--status-critical); }

        .record-content {
            margin-bottom: 1rem;
        }

        .content-section {
            margin-bottom: 1rem;
        }

        .content-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .content-text {
            font-size: 0.875rem;
            line-height: 1.6;
            padding-left: 1.5rem;
        }

        .record-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(168, 85, 247, 0.1);
        }

        .record-nurse {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .record-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.375rem 0.75rem;
            border: none;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-view {
            background: rgba(168, 85, 247, 0.2);
            color: var(--accent-color);
        }

        .btn-view:hover {
            background: rgba(168, 85, 247, 0.3);
        }

        .btn-edit {
            background: rgba(59, 130, 246, 0.2);
            color: var(--status-routine);
        }

        .btn-edit:hover {
            background: rgba(59, 130, 246, 0.3);
        }

        .btn-delete {
            background: rgba(239, 68, 68, 0.2);
            color: var(--status-critical);
        }

        .btn-delete:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--secondary-bg);
            border-radius: 24px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            border: 2px solid var(--accent-color);
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(168, 85, 247, 0.2);
        }

        .modal-header h3 {
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-buttons {
                width: 100%;
                justify-content: space-between;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .filter-section {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .action-buttons {
                width: 100%;
                justify-content: space-between;
            }

            .record-header {
                flex-direction: column;
                gap: 1rem;
            }

            .record-meta {
                text-align: left;
                width: 100%;
            }

            .record-footer {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .record-actions {
                width: 100%;
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ğŸ“‹</div>
                <div class="logo-text">
                    <h1>æŠ¤ç†è®°å½•</h1>
                    <p>æŠ¤å£«å·¥ä½œç«™</p>
                </div>
            </div>
            <div class="nav-buttons">
                <a href="nurse.html" class="back-button">â† è¿”å›æŠ¤å£«ç«¯</a>
                <div class="user-info">
                    <div class="user-avatar">ğŸ’‰</div>
                    <span class="user-name">ç‹æŠ¤å£«</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="page-header">
            <h2>æŠ¤ç†è®°å½•ç®¡ç†</h2>
            <p>ä»Šæ—¥å·²è®°å½• 12 æ¡æŠ¤ç†è®°å½•ï¼Œ3 æ¡å¾…è¡¥å……è®°å½•</p>
        </section>

        <div class="quick-actions">
            <div class="quick-card" onclick="openNewRecordModal()">
                <div class="quick-icon">ğŸ“</div>
                <div class="quick-title">æ–°å»ºè®°å½•</div>
                <div class="quick-desc">åˆ›å»ºæ–°çš„æŠ¤ç†è®°å½•</div>
            </div>
            <div class="quick-card" onclick="filterByType('routine')">
                <div class="quick-icon">ğŸŒ¡ï¸</div>
                <div class="quick-title">ç”Ÿå‘½ä½“å¾</div>
                <div class="quick-desc">æŸ¥çœ‹ç”Ÿå‘½ä½“å¾è®°å½•</div>
            </div>
            <div class="quick-card" onclick="filterByType('special')">
                <div class="quick-icon">ğŸ’Š</div>
                <div class="quick-title">ç‰¹æ®ŠæŠ¤ç†</div>
                <div class="quick-desc">ç‰¹æ®ŠæŠ¤ç†é¡¹ç›®è®°å½•</div>
            </div>
            <div class="quick-card" onclick="showTodayRecords()">
                <div class="quick-icon">ğŸ“…</div>
                <div class="quick-title">ä»Šæ—¥è®°å½•</div>
                <div class="quick-desc">æŸ¥çœ‹ä»Šæ—¥æ‰€æœ‰è®°å½•</div>
            </div>
        </div>

        <div class="filter-section">
            <div class="filter-group">
                <div class="filter-label">è®°å½•ç±»å‹</div>
                <select class="filter-select" id="typeFilter">
                    <option value="all">å…¨éƒ¨ç±»å‹</option>
                    <option value="routine">å¸¸è§„æŠ¤ç†</option>
                    <option value="special">ç‰¹æ®ŠæŠ¤ç†</option>
                    <option value="critical">å±é‡æŠ¤ç†</option>
                    <option value="discharge">å‡ºé™¢æŒ‡å¯¼</option>
                </select>
            </div>
            <div class="filter-group">
                <div class="filter-label">æ‚£è€…ç­›é€‰</div>
                <select class="filter-select" id="patientFilter">
                    <option value="all">å…¨éƒ¨æ‚£è€…</option>
                    <option value="301">301åºŠ - ææ˜</option>
                    <option value="302">302åºŠ - ç‹èŠ³</option>
                    <option value="303">303åºŠ - èµµå¼º</option>
                    <option value="304">304åºŠ - å¼ ä¼Ÿ</option>
                </select>
            </div>
            <div class="filter-group">
                <div class="filter-label">æŠ¤å£«ç­›é€‰</div>
                <select class="filter-select" id="nurseFilter">
                    <option value="all">å…¨éƒ¨æŠ¤å£«</option>
                    <option value="wang">ç‹æŠ¤å£«</option>
                    <option value="li">ææŠ¤å£«</option>
                    <option value="zhang">å¼ æŠ¤å£«</option>
                    <option value="zhao">èµµæŠ¤å£«</option>
                </select>
            </div>
            <div class="filter-group">
                <div class="filter-label">æ—¶é—´èŒƒå›´</div>
                <div class="date-range">
                    <input type="date" class="date-input" id="startDate">
                    <span>è‡³</span>
                    <input type="date" class="date-input" id="endDate">
                </div>
            </div>
        </div>

        <section class="records-section">
            <div class="section-header">
                <h3>æŠ¤ç†è®°å½•åˆ—è¡¨</h3>
                <div class="action-buttons">
                    <button class="action-button" onclick="exportRecords()">å¯¼å‡ºè®°å½•</button>
                    <button class="action-button" onclick="printRecords()">æ‰“å°è®°å½•</button>
                    <button class="action-button" onclick="refreshRecords()">åˆ·æ–°åˆ—è¡¨</button>
                </div>
            </div>

            <div class="records-list" id="recordsList">
                <!-- è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            </div>
        </section>
    </main>

    <!-- æ–°å»ºè®°å½•æ¨¡æ€æ¡† -->
    <div class="modal" id="newRecordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>æ–°å»ºæŠ¤ç†è®°å½•</h3>
                <button class="close-modal" onclick="closeModal()">Ã—</button>
            </div>
            <form id="newRecordForm">
                <div class="form-group">
                    <label class="form-label">æ‚£è€…é€‰æ‹©</label>
                    <select class="form-select" id="recordPatient" required>
                        <option value="">é€‰æ‹©æ‚£è€…</option>
                        <option value="301">301åºŠ - ææ˜ (65å²ï¼Œæ…¢æ€§é˜»å¡æ€§è‚ºç—…)</option>
                        <option value="302">302åºŠ - ç‹èŠ³ (58å²ï¼Œé«˜è¡€å‹)</option>
                        <option value="303">303åºŠ - èµµå¼º (42å²ï¼Œç³–å°¿ç—…)</option>
                        <option value="304">304åºŠ - å¼ ä¼Ÿ (71å²ï¼Œå† å¿ƒç—…)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">è®°å½•ç±»å‹</label>
                    <select class="form-select" id="recordType" required>
                        <option value="">é€‰æ‹©ç±»å‹</option>
                        <option value="routine">å¸¸è§„æŠ¤ç†</option>
                        <option value="special">ç‰¹æ®ŠæŠ¤ç†</option>
                        <option value="critical">å±é‡æŠ¤ç†</option>
                        <option value="discharge">å‡ºé™¢æŒ‡å¯¼</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ç”Ÿå‘½ä½“å¾</label>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                        <input type="text" class="form-input" placeholder="ä½“æ¸©(â„ƒ)" id="vitalTemp">
                        <input type="text" class="form-input" placeholder="è„‰æ(æ¬¡/åˆ†)" id="vitalPulse">
                        <input type="text" class="form-input" placeholder="å‘¼å¸(æ¬¡/åˆ†)" id="vitalResp">
                        <input type="text" class="form-input" placeholder="è¡€å‹(mmHg)" id="vitalBP">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">æŠ¤ç†å†…å®¹</label>
                    <textarea class="form-textarea" id="recordContent" 
                              placeholder="è¯¦ç»†è®°å½•æŠ¤ç†å†…å®¹ã€è§‚å¯Ÿæƒ…å†µã€å¤„ç†æªæ–½ç­‰..." required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">ç‰¹æ®Šæƒ…å†µè®°å½•</label>
                    <textarea class="form-textarea" id="specialNotes" 
                              placeholder="è®°å½•ç‰¹æ®Šç—…æƒ…å˜åŒ–ã€å¼‚å¸¸æƒ…å†µã€éœ€è¦å…³æ³¨çš„äº‹é¡¹ç­‰..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">æŠ¤ç†æªæ–½</label>
                    <textarea class="form-textarea" id="nursingMeasures" 
                              placeholder="å®æ–½çš„æŠ¤ç†æªæ–½ã€ç”¨è¯æƒ…å†µã€æ“ä½œè¿‡ç¨‹ç­‰..." required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">ä¸‹æ¬¡æŠ¤ç†è®¡åˆ’</label>
                    <textarea class="form-textarea" id="nextPlan" 
                              placeholder="ä¸‹æ¬¡æŠ¤ç†æ—¶é—´ã€è®¡åˆ’æ‰§è¡Œçš„æŠ¤ç†æªæ–½ç­‰..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="action-button" onclick="closeModal()">å–æ¶ˆ</button>
                    <button type="submit" class="action-button">ä¿å­˜è®°å½•</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸæŠ¤ç†è®°å½•æ•°æ®
        const recordsData = [
            {
                id: "NR001",
                patientName: "ææ˜",
                bedNo: "301",
                age: 65,
                diagnosis: "æ…¢æ€§é˜»å¡æ€§è‚ºç—…ä¼´æ€¥æ€§åŠ é‡",
                recordType: "routine",
                recordTime: "2025-12-13 08:30",
                nurseName: "ç‹æŠ¤å£«",
                vitalSigns: {
                    temperature: "36.8â„ƒ",
                    pulse: "88æ¬¡/åˆ†",
                    respiration: "20æ¬¡/åˆ†",
                    bloodPressure: "135/85mmHg"
                },
                content: "æ‚£è€…å¤œé—´ä¼‘æ¯è‰¯å¥½ï¼Œæ™¨èµ·ç²¾ç¥çŠ¶æ€å¯ã€‚ä¸»è¯‰è½»åº¦å’³å—½ï¼Œæ— ç—°ã€‚å‘¼å¸å¹³ç¨³ï¼Œæ— èƒ¸é—·æ°”ä¿ƒè¡¨ç°ã€‚",
                nursingMeasures: "1. ååŠ©æ‚£è€…å®Œæˆæ™¨é—´æŠ¤ç†\n2. æŒ‡å¯¼æ‚£è€…æœ‰æ•ˆå’³å—½æ’ç—°æ–¹æ³•\n3. ç›‘æµ‹ç”Ÿå‘½ä½“å¾å˜åŒ–\n4. ç»™äºˆæ°§æ°”å¸å…¥ï¼ˆ2L/minï¼‰",
                specialNotes: "æ³¨æ„è§‚å¯Ÿå‘¼å¸é¢‘ç‡å’Œè¡€æ°§é¥±å’Œåº¦å˜åŒ–",
                nextPlan: "15:00å†æ¬¡ç›‘æµ‹ç”Ÿå‘½ä½“å¾ï¼Œç»§ç»­è§‚å¯Ÿå’³å—½æƒ…å†µ"
            },
            {
                id: "NR002",
                patientName: "ç‹èŠ³",
                bedNo: "302",
                age: 58,
                diagnosis: "é«˜è¡€å‹ç—…â…¢æœŸ",
                recordType: "special",
                recordTime: "2025-12-13 09:15",
                nurseName: "ææŠ¤å£«",
                vitalSigns: {
                    temperature: "36.5â„ƒ",
                    pulse: "76æ¬¡/åˆ†",
                    respiration: "18æ¬¡/åˆ†",
                    bloodPressure: "150/95mmHg"
                },
                content: "æ‚£è€…ä¸»è¯‰è½»å¾®å¤´æ™•ï¼Œè¡€å‹è¾ƒå‰å‡é«˜ã€‚éµåŒ»å˜±ç»™äºˆé™å‹è¯ç‰©å£æœï¼Œå˜±å§åºŠä¼‘æ¯ã€‚",
                nursingMeasures: "1. æµ‹é‡è¡€å‹å¹¶è®°å½•\n2. ç»™äºˆç¡è‹¯åœ°å¹³æ§é‡Šç‰‡å£æœ\n3. æŒ‡å¯¼å§åºŠä¼‘æ¯\n4. å¿ƒç†å®‰æ…°ï¼Œå‡è½»ç´§å¼ æƒ…ç»ª",
                specialNotes: "è¡€å‹æ§åˆ¶ä¸ä½³ï¼Œéœ€å¯†åˆ‡ç›‘æµ‹",
                nextPlan: "1å°æ—¶åå¤æµ‹è¡€å‹ï¼Œå¦‚ä»é«˜åŠæ—¶æŠ¥å‘ŠåŒ»ç”Ÿ"
            },
            {
                id: "NR003",
                patientName: "èµµå¼º",
                bedNo: "303",
                age: 42,
                diagnosis: "2å‹ç³–å°¿ç—…",
                recordType: "routine",
                recordTime: "2025-12-13 10:00",
                nurseName: "ç‹æŠ¤å£«",
                vitalSigns: {
                    temperature: "36.7â„ƒ",
                    pulse: "82æ¬¡/åˆ†",
                    respiration: "19æ¬¡/åˆ†",
                    bloodPressure: "128/78mmHg"
                },
                content: "æ‚£è€…æ—©é¤åè¡€ç³–ç›‘æµ‹7.8mmol/Lã€‚å³ä¸‹è‚¢ä¼¤å£æ„ˆåˆè‰¯å¥½ï¼Œæ— çº¢è‚¿æ¸—æ¶²ã€‚",
                nursingMeasures: "1. ç›‘æµ‹æ—©é¤å2å°æ—¶è¡€ç³–\n2. æ£€æŸ¥å¹¶æ›´æ¢ä¼¤å£æ•·æ–™\n3. æŒ‡å¯¼ç³–å°¿ç—…é¥®é£Ÿ\n4. è§‚å¯Ÿèƒ°å²›ç´ æ³¨å°„éƒ¨ä½",
                specialNotes: "æ³¨æ„è¡€ç³–æ³¢åŠ¨æƒ…å†µ",
                nextPlan: "åˆé¤å‰ç›‘æµ‹è¡€ç³–ï¼Œè§‚å¯Ÿä¼¤å£æ„ˆåˆæƒ…å†µ"
            },
            {
                id: "NR004",
                patientName: "å¼ ä¼Ÿ",
                bedNo: "304",
                age: 71,
                diagnosis: "å† å¿ƒç—…ã€å¿ƒåŠŸèƒ½â…¡çº§",
                recordType: "critical",
                recordTime: "2025-12-13 11:30",
                nurseName: "å¼ æŠ¤å£«",
                vitalSigns: {
                    temperature: "36.9â„ƒ",
                    pulse: "92æ¬¡/åˆ†",
                    respiration: "22æ¬¡/åˆ†",
                    bloodPressure: "145/90mmHg"
                },
                content: "æ‚£è€…ä¸»è¯‰èƒ¸é—·ä¸é€‚ï¼Œå¿ƒç”µå›¾æ˜¾ç¤ºSTæ®µè½»åº¦å‹ä½ã€‚éµåŒ»å˜±ç»™äºˆç¡é…¸ç”˜æ²¹èˆŒä¸‹å«æœã€‚",
                nursingMeasures: "1. ç«‹å³ç›‘æµ‹å¿ƒç”µå›¾\n2. ç»™äºˆç¡é…¸ç”˜æ²¹0.5mgèˆŒä¸‹å«æœ\n3. å¸æ°§2L/min\n4. å»ºç«‹é™è„‰é€šè·¯\n5. å¯†åˆ‡è§‚å¯Ÿç”Ÿå‘½ä½“å¾",
                specialNotes: "å¿ƒç»ç—›å‘ä½œï¼Œéœ€å¯†åˆ‡ç›‘æŠ¤",
                nextPlan: "æŒç»­å¿ƒç”µç›‘æŠ¤ï¼Œ30åˆ†é’Ÿåè¯„ä¼°ç—‡çŠ¶ç¼“è§£æƒ…å†µ"
            },
            {
                id: "NR005",
                patientName: "åˆ˜ä¸½",
                bedNo: "305",
                age: 68,
                diagnosis: "è„‘æ¢—æ­»æ¢å¤æœŸ",
                recordType: "special",
                recordTime: "2025-12-13 13:00",
                nurseName: "èµµæŠ¤å£«",
                vitalSigns: {
                    temperature: "36.6â„ƒ",
                    pulse: "78æ¬¡/åˆ†",
                    respiration: "20æ¬¡/åˆ†",
                    bloodPressure: "140/88mmHg"
                },
                content: "æ‚£è€…è¿›è¡Œåº·å¤è®­ç»ƒï¼Œå·¦ä¾§è‚¢ä½“è‚ŒåŠ›3çº§ï¼Œèƒ½å¤Ÿå®Œæˆç®€å•æŠ“æ¡åŠ¨ä½œã€‚æƒ…ç»ªç¨³å®šã€‚",
                nursingMeasures: "1. ååŠ©è¿›è¡Œåº·å¤è®­ç»ƒ\n2. æŒ‡å¯¼æ‚£è‚¢åŠŸèƒ½é”»ç‚¼\n3. é¢„é˜²è·Œå€’å®£æ•™\n4. é¼“åŠ±æ‚£è€…æ ‘ç«‹ä¿¡å¿ƒ",
                specialNotes: "æ³¨æ„åº·å¤è®­ç»ƒå¼ºåº¦å’Œæ—¶é—´",
                nextPlan: "æ˜æ—¥ç»§ç»­åº·å¤è®­ç»ƒï¼Œé€æ­¥å¢åŠ è®­ç»ƒå¼ºåº¦"
            }
        ];

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            renderRecordsList();
            setupEventListeners();
            
            // è®¾ç½®é»˜è®¤æ—¥æœŸ
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            document.getElementById('endDate').value = today;
        });

        // æ¸²æŸ“è®°å½•åˆ—è¡¨
        function renderRecordsList(filteredData = recordsData) {
            const recordsList = document.getElementById('recordsList');
            recordsList.innerHTML = '';

            if (filteredData.length === 0) {
                recordsList.innerHTML = `
                    <div style="text-align: center; padding: 3rem; color: var(--text-secondary)">
                        <div style="font-size: 3rem; margin-bottom: 1rem">ğŸ“‹</div>
                        <div style="font-size: 1.125rem; margin-bottom: 0.5rem">æš‚æ— æŠ¤ç†è®°å½•</div>
                        <div style="font-size: 0.875rem">ç‚¹å‡»ä¸Šæ–¹"æ–°å»ºè®°å½•"æŒ‰é’®æ·»åŠ æŠ¤ç†è®°å½•</div>
                    </div>
                `;
                return;
            }

            filteredData.forEach(record => {
                const typeText = {
                    'routine': 'å¸¸è§„æŠ¤ç†',
                    'special': 'ç‰¹æ®ŠæŠ¤ç†',
                    'critical': 'å±é‡æŠ¤ç†',
                    'discharge': 'å‡ºé™¢æŒ‡å¯¼'
                }[record.recordType];

                const typeClass = `type-${record.recordType}`;

                const recordItem = document.createElement('div');
                recordItem.className = 'record-item';
                recordItem.innerHTML = `
                    <div class="record-header">
                        <div class="record-patient">
                            <div class="patient-avatar">${record.patientName.charAt(0)}</div>
                            <div class="patient-info">
                                <h4>${record.patientName} (${record.age}å²)</h4>
                                <div class="patient-details">
                                    ${record.bedNo}åºŠ | ${record.diagnosis}
                                </div>
                            </div>
                        </div>
                        <div class="record-meta">
                            <div class="record-time">${record.recordTime}</div>
                            <span class="record-type ${typeClass}">${typeText}</span>
                        </div>
                    </div>
                    
                    <div class="record-content">
                        <div class="content-section">
                            <div class="content-title">ğŸŒ¡ï¸ ç”Ÿå‘½ä½“å¾</div>
                            <div class="content-text">
                                ä½“æ¸©ï¼š${record.vitalSigns.temperature} | 
                                è„‰æï¼š${record.vitalSigns.pulse} | 
                                å‘¼å¸ï¼š${record.vitalSigns.respiration} | 
                                è¡€å‹ï¼š${record.vitalSigns.bloodPressure}
                            </div>
                        </div>
                        
                        <div class="content-section">
                            <div class="content-title">ğŸ“‹ æŠ¤ç†å†…å®¹</div>
                            <div class="content-text">${record.content}</div>
                        </div>
                        
                        <div class="content-section">
                            <div class="content-title">ğŸ’Š æŠ¤ç†æªæ–½</div>
                            <div class="content-text" style="white-space: pre-line;">${record.nursingMeasures}</div>
                        </div>
                    </div>
                    
                    <div class="record-footer">
                        <div class="record-nurse">è®°å½•æŠ¤å£«ï¼š${record.nurseName}</div>
                        <div class="record-actions">
                            <button class="btn btn-view" onclick="viewRecordDetail('${record.id}')">æŸ¥çœ‹è¯¦æƒ…</button>
                            <button class="btn btn-edit" onclick="editRecord('${record.id}')">ç¼–è¾‘</button>
                            <button class="btn btn-delete" onclick="deleteRecord('${record.id}')">åˆ é™¤</button>
                        </div>
                    </div>
                `;
                recordsList.appendChild(recordItem);
            });
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            const typeFilter = document.getElementById('typeFilter');
            const patientFilter = document.getElementById('patientFilter');
            const nurseFilter = document.getElementById('nurseFilter');
            const startDate = document.getElementById('startDate');
            const endDate = document.getElementById('endDate');

            [typeFilter, patientFilter, nurseFilter, startDate, endDate].forEach(filter => {
                filter.addEventListener('change', filterRecords);
            });

            // æ–°å»ºè®°å½•è¡¨å•æäº¤
            document.getElementById('newRecordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveNewRecord();
            });
        }

        // è¿‡æ»¤è®°å½•
        function filterRecords() {
            const type = document.getElementById('typeFilter').value;
            const patient = document.getElementById('patientFilter').value;
            const nurse = document.getElementById('nurseFilter').value;
            const start = document.getElementById('startDate').value;
            const end = document.getElementById('endDate').value;

            let filtered = recordsData;

            if (type !== 'all') {
                filtered = filtered.filter(record => record.recordType === type);
            }

            if (patient !== 'all') {
                filtered = filtered.filter(record => record.bedNo === patient);
            }

            if (nurse !== 'all') {
                filtered = filtered.filter(record => {
                    const nurseMap = {
                        'wang': 'ç‹æŠ¤å£«',
                        'li': 'ææŠ¤å£«',
                        'zhang': 'å¼ æŠ¤å£«',
                        'zhao': 'èµµæŠ¤å£«'
                    };
                    return record.nurseName === nurseMap[nurse];
                });
            }

            if (start) {
                filtered = filtered.filter(record => {
                    const recordDate = record.recordTime.split(' ')[0];
                    return recordDate >= start;
                });
            }

            if (end) {
                filtered = filtered.filter(record => {
                    const recordDate = record.recordTime.split(' ')[0];
                    return recordDate <= end;
                });
            }

            renderRecordsList(filtered);
        }

        // æ‰“å¼€æ–°å»ºè®°å½•æ¨¡æ€æ¡†
        function openNewRecordModal() {
            document.getElementById('newRecordModal').style.display = 'flex';
        }

        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('newRecordModal').style.display = 'none';
            document.getElementById('newRecordForm').reset();
        }

        // ä¿å­˜æ–°è®°å½•
        function saveNewRecord() {
            const patientSelect = document.getElementById('recordPatient');
            const patientInfo = patientSelect.options[patientSelect.selectedIndex].text.split(' - ');
            
            const newRecord = {
                id: "NR" + (recordsData.length + 1).toString().padStart(3, '0'),
                patientName: patientInfo[1],
                bedNo: patientInfo[0].replace('åºŠ', ''),
                age: parseInt(patientInfo[2].match(/\d+/)[0]),
                diagnosis: patientInfo[2].split('ï¼Œ')[1],
                recordType: document.getElementById('recordType').value,
                recordTime: new Date().toLocaleString('zh-CN'),
                nurseName: "ç‹æŠ¤å£«",
                vitalSigns: {
                    temperature: document.getElementById('vitalTemp').value || "æœªè®°å½•",
                    pulse: document.getElementById('vitalPulse').value || "æœªè®°å½•",
                    respiration: document.getElementById('vitalResp').value || "æœªè®°å½•",
                    bloodPressure: document.getElementById('vitalBP').value || "æœªè®°å½•"
                },
                content: document.getElementById('recordContent').value,
                nursingMeasures: document.getElementById('nursingMeasures').value,
                specialNotes: document.getElementById('specialNotes').value,
                nextPlan: document.getElementById('nextPlan').value
            };

            recordsData.unshift(newRecord);
            closeModal();
            renderRecordsList();
            alert('æŠ¤ç†è®°å½•ä¿å­˜æˆåŠŸï¼');
        }

        // æŸ¥çœ‹è®°å½•è¯¦æƒ…
        function viewRecordDetail(recordId) {
            const record = recordsData.find(r => r.id === recordId);
            if (record) {
                const detailText = `
æ‚£è€…ä¿¡æ¯ï¼š${record.patientName} (${record.age}å²) ${record.bedNo}åºŠ
è¯Šæ–­ï¼š${record.diagnosis}
è®°å½•æ—¶é—´ï¼š${record.recordTime}
è®°å½•æŠ¤å£«ï¼š${record.nurseName}
è®°å½•ç±»å‹ï¼š${record.recordType === 'routine' ? 'å¸¸è§„æŠ¤ç†' : 
          record.recordType === 'special' ? 'ç‰¹æ®ŠæŠ¤ç†' : 
          record.recordType === 'critical' ? 'å±é‡æŠ¤ç†' : 'å‡ºé™¢æŒ‡å¯¼'}

ç”Ÿå‘½ä½“å¾ï¼š
ä½“æ¸©ï¼š${record.vitalSigns.temperature}
è„‰æï¼š${record.vitalSigns.pulse}
å‘¼å¸ï¼š${record.vitalSigns.respiration}
è¡€å‹ï¼š${record.vitalSigns.bloodPressure}

æŠ¤ç†å†…å®¹ï¼š
${record.content}

ç‰¹æ®Šæƒ…å†µï¼š
${record.specialNotes || 'æ— '}

æŠ¤ç†æªæ–½ï¼š
${record.nursingMeasures}

ä¸‹æ¬¡æŠ¤ç†è®¡åˆ’ï¼š
${record.nextPlan || 'æ— '}
                `;
                alert(detailText);
            }
        }

        // ç¼–è¾‘è®°å½•
        function editRecord(recordId) {
            const record = recordsData.find(r => r.id === recordId);
            if (record) {
                if (confirm('ç¡®å®šè¦ç¼–è¾‘è¿™æ¡æŠ¤ç†è®°å½•å—ï¼Ÿ')) {
                    // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ‰“å¼€ç¼–è¾‘æ¨¡æ€æ¡†
                    // ç®€åŒ–ç‰ˆï¼šæç¤ºç¼–è¾‘æˆåŠŸ
                    alert('è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ˆå®é™…åº”ç”¨ä¸­ä¼šæ‰“å¼€ç¼–è¾‘è¡¨å•ï¼‰');
                }
            }
        }

        // åˆ é™¤è®°å½•
        function deleteRecord(recordId) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡æŠ¤ç†è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                const index = recordsData.findIndex(r => r.id === recordId);
                if (index !== -1) {
                    recordsData.splice(index, 1);
                    renderRecordsList();
                    alert('æŠ¤ç†è®°å½•å·²åˆ é™¤');
                }
            }
        }

        // æŒ‰ç±»å‹è¿‡æ»¤
        function filterByType(type) {
            document.getElementById('typeFilter').value = type;
            filterRecords();
        }

        // æ˜¾ç¤ºä»Šæ—¥è®°å½•
        function showTodayRecords() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            document.getElementById('endDate').value = today;
            document.getElementById('typeFilter').value = 'all';
            document.getElementById('patientFilter').value = 'all';
            document.getElementById('nurseFilter').value = 'all';
            filterRecords();
        }

        // å¯¼å‡ºè®°å½•
        function exportRecords() {
            alert('æŠ¤ç†è®°å½•å¯¼å‡ºåŠŸèƒ½ï¼ˆå¯å¯¼å‡ºä¸ºExcelæˆ–PDFæ ¼å¼ï¼‰');
        }

        // æ‰“å°è®°å½•
        function printRecords() {
            alert('æ‰“å°æŠ¤ç†è®°å½•åŠŸèƒ½');
        }

        // åˆ·æ–°è®°å½•
        function refreshRecords() {
            renderRecordsList();
            alert('è®°å½•åˆ—è¡¨å·²åˆ·æ–°');
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('newRecordModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>